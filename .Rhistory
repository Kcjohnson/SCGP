View(faithfull)
View(faithful)
View(cars)
View(esoph)
c("P","R"){1:4}
c("P","R")
c("P","R")[1:4]
rep(c("P","R"),4)
rand
library(stringi)
sprintf("%s%s%s", stri_rand_strings(5, 5, '[A-Z]'),
stri_rand_strings(5, 4, '[0-9]'), stri_rand_strings(5, 1, '[A-Z]'))
stri_rand_strings(5, 5, '[A-Z]')
stri_rand_strings(5, 5, '[A-Z]')
stri_rand_strings(1, 5, '[A-Z]')
stri_rand_strings(8, 5, '[A-Z]')
stri_rand_strings(8, 6, '[A-Z]')
df = data.frame(patient = c(rep("A",4), rep("B",4)),
sample  = rep(c("P","R"),4),
file    = stri_rand_strings(8, 6, '[A-Z]'))
split(df, "patient")
?split
df %>%
split(.$patient)
df %>%
split(.$patient) %>%
map(split, .$sample)
?map
df
?map2
dfout <- df %>% group_by(patient, sample) %>%
summarize(files=list(map(file, ~list(file=.x))))
View(dfout)
dfout <- df %>% group_by(patient, sample) %>%
summarize(files=list(map(file, ~list(file=.x)))) %>%
summarize(samples=list(map2(sample, files, ~list(samples=.x, files=.y))))
View(dfout)
listviewer::jsonedit(dfout)
jsonlite::toJSON(dfout, auto_unbox = TRUE)
jsonlite::toJSON(dfout, auto_unbox = TRUE, pretty = T)
library(tidyverse)
library(stringi)
n_patient = 2
n_samples = 3
n_readgroup = 4
n_mate = 2
df = data.frame(patient   = rep(rep(LETTERS[1:n_patient], n_samples),2),
sample    = rep(rep(seq(1:n_samples), each = n_patient),2),
readgroup = rep(stri_rand_strings(n_patient * n_samples * n_readgroup, 6, '[A-Z]'),2),
mate      = rep(1:n_mate, each = n_patient * n_samples * n_readgroup)) %>%
mutate(file = sprintf("%s.%s.%s_%s", patient, sample, readgroup, mate)) %>%
arrange(file)
json = df %>%
nest(-patient, .key = samples) %>%
mutate(samples = map(samples, nest, -sample, .key=readgroups))
json3 <- df %>% nest(-(1:3),.key=mate) %>% nest(-(1:2),.key=readgroups) %>% nest(-1,.key=samples)
jsonlite::toJSON(json3,pretty=T)
vars <- names(df)[-1] # or whatever variables you want to nest, order matters!
View(df)
var_pairs <- map((length(vars)-1):1,~vars[.x:(.x+1)])
?reduce
nest_by
exprs(x = x ^ 2, y = y ^ 3, z = z ^ 4)
library(tidyverse)
exprs(x = x ^ 2, y = y ^ 3, z = z ^ 4)
library(rlang)
exprs(x = x ^ 2, y = y ^ 3, z = z ^ 4)
exprs(x = x ^ 2, y = y ^ 3, z = z ^ 4)$x
quos(...)
quos(s)
quos(a)
quos(ag)
enquo(a,b,c)
enquo(a)
enquo(...)
## Create a manifest of TCGA whole genome (WGS) files from LGG and GBM cohorts
## Limit to primary-recurrent triplets and 2nd recurrences
## @Author Floris Barthel
library(GenomicDataCommons)
library(listviewer)
library(tidyverse)
setwd("/Volumes/Helix-Projects/GLASS-WG")
unpaired_json = "data/ref/TCGA_WGS_GDC_legacy_UUIDs.json"
## Make sure to include case ids
# "cases.project.project_id" = project (eg. TCGA-LGG)
# "cases.samples.sample_type" = sample type (eg. Primary Tumor)
# "cases.samples.portions.analytes.aliquots.submitter_id" = TCGA barcode
add_fields = c("cases.project.project_id",
"cases.samples.sample_type",
"cases.samples.portions.analytes.aliquots.submitter_id")
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
## Get a list of all WXS/RNA-Seq aligned BAM files from primary tumors
fq = files(legacy = TRUE) %>%
GenomicDataCommons::filter( ~ cases.project.project_id %in% c("TCGA-LGG", "TCGA-GBM") &
experimental_strategy == "WGS" &
data_type == "Aligned reads") %>%
GenomicDataCommons::select(c(default_fields(files()), add_fields))
message(sprintf("Found %s hits", GenomicDataCommons::count(fq)))
## Extract results
fres = results_all(fq)
## Inspect list using listviewer::jsonedit
jsonedit(fres)
## Flatten nested variables
fres$project = map(fres$cases, "project") %>% map_chr("project_id")
fres$sample_type = map(fres$cases, "samples") %>% map(unlist) %>% map_chr("sample_type")
fres$aliquot_id = map(fres$cases, "samples") %>% map(unlist) %>% map_chr("portions.analytes.aliquots.submitter_id")
## Convert to dataframe (finally!)
df = as.data.frame(fres[-which(names(fres) %in% c("cases", "acl", "analysis"))], stringsAsFactors = F) %>%
select(id, aliquot_id, project, sample_type, experimental_strategy, file_size, md5sum, file_name, created_datetime, updated_datetime) %>%
filter(grepl("TCGA", project)) %>%
mutate(sample_id = substr(aliquot_id,1,16),
case_id = substr(aliquot_id,1,12),
format = "BAM")
## Pair primary-recurrent-2ndrecurrence samples
filtered_files = df %>%
group_by(sample_id) %>%
mutate(p = order(file_size, decreasing = T)) %>%
ungroup() %>%
group_by(case_id) %>%
mutate(hasRec = any(sample_type == "Recurrent Tumor")) %>%
ungroup() %>%
filter(hasRec, p == 1) %>%
select(-hasRec, -p, -created_datetime, -updated_datetime, -experimental_strategy) %>%
mutate(file_size_readable = gdata::humanReadable(file_size, standard="Unix"),
sample_type_code = recode_factor(substr(aliquot_id, 14,16), "01A" = "TP", "01B" = "TP", "02A" = "R1", "02B" = "R2", "10A" = "NB", "10B" = "NB", "10D" = "NB"))
library(GenomicDataCommons)
library(listviewer)
library(tidyverse)
## Pair primary-recurrent-2ndrecurrence samples
filtered_files = df %>%
group_by(sample_id) %>%
mutate(p = order(file_size, decreasing = T)) %>%
ungroup() %>%
group_by(case_id) %>%
mutate(hasRec = any(sample_type == "Recurrent Tumor")) %>%
ungroup() %>%
filter(hasRec, p == 1) %>%
select(-hasRec, -p, -created_datetime, -updated_datetime, -experimental_strategy) %>%
mutate(file_size_readable = gdata::humanReadable(file_size, standard="Unix"),
sample_type_code = recode_factor(substr(aliquot_id, 14,16), "01A" = "TP", "01B" = "TP", "02A" = "R1", "02B" = "R2", "10A" = "NB", "10B" = "NB", "10D" = "NB"))
## Convert to dataframe (finally!)
df = as.data.frame(fres[-which(names(fres) %in% c("cases", "acl", "analysis"))], stringsAsFactors = F) %>%
select(id, aliquot_id, project, sample_type, experimental_strategy, file_size, md5sum, file_name, created_datetime, updated_datetime) %>%
filter(grepl("TCGA", project)) %>%
mutate(sample_id = substr(aliquot_id,1,16),
case_id = substr(aliquot_id,1,12),
format = "BAM")
## Pair primary-recurrent-2ndrecurrence samples
filtered_files = df %>%
group_by(sample_id) %>%
mutate(p = order(file_size, decreasing = T)) %>%
ungroup() %>%
group_by(case_id) %>%
mutate(hasRec = any(sample_type == "Recurrent Tumor")) %>%
ungroup() %>%
filter(hasRec, p == 1) %>%
select(-hasRec, -p, -created_datetime, -updated_datetime, -experimental_strategy) %>%
mutate(file_size_readable = gdata::humanReadable(file_size, standard="Unix"),
sample_type_code = recode_factor(substr(aliquot_id, 14,16), "01A" = "TP", "01B" = "TP", "02A" = "R1", "02B" = "R2", "10A" = "NB", "10B" = "NB", "10D" = "NB"))
## Insert readgroups
rgs = read.delim('data/ref/TCGA_BAM_readgroups.txt', as.is = T, header = F)
n_distinct(rgs$V1)
basename(dirname(rgs$V1))
rgs = rgs %>% mutate(id = basename(dirname(V1)),
RGID = gsub("ID\\:","", V3))
rgs = rgs %>% mutate(id = basename(dirname(V1)),
file_name = basename(V1),
RGID = gsub("ID\\:","", V3),
RGPL = gsub("PL\\:","", V3),
RGPU = gsub("PU\\:","", V3),
RGLB = gsub("LB\\:","", V3),
RGPI = gsub("PI\\:","", V3),
RGDT = gsub("DT\\:","", V3),
RGSM = gsub("SM\\:","", V3),
RGCN = gsub("CN\\:","", V3)) %>%
select(-starts_with("V"))
View(rgs)
## Insert readgroups
rgs = read.delim('data/ref/TCGA_BAM_readgroups.txt', as.is = T, header = F)
rgs = rgs %>% mutate(id = basename(dirname(V1)),
file_name = basename(V1),
RGID = gsub("ID\\:","", V3),
RGPL = gsub("PL\\:","", V4),
RGPU = gsub("PU\\:","", V5),
RGLB = gsub("LB\\:","", V6),
RGPI = gsub("PI\\:","", V7),
RGDT = gsub("DT\\:","", V8),
RGSM = gsub("SM\\:","", V9),
RGCN = gsub("CN\\:","", V10)) %>%
select(-starts_with("V"))
View(rgs)
## Full-join
filtered_files_rgs = filtered_files %>% full_join(rgs)
View(filtered_files_rgs)
## Full-join
filtered_files_rgs = filtered_files %>% right_join(rgs)
View(filtered_files_rgs)
View(filtered_files)
## Insert readgroups
rgs = read.delim('data/ref/TCGA_BAM_readgroups.txt', as.is = T, header = F)
rgs = rgs %>% mutate(id = basename(dirname(V1)),
RGID = gsub("ID\\:","", V3),
RGPL = gsub("PL\\:","", V4),
RGPU = gsub("PU\\:","", V5),
RGLB = gsub("LB\\:","", V6),
RGPI = gsub("PI\\:","", V7),
RGDT = gsub("DT\\:","", V8),
RGSM = gsub("SM\\:","", V9),
RGCN = gsub("CN\\:","", V10)) %>%
select(-starts_with("V"))
## Full-join
filtered_files_rgs = filtered_files %>% right_join(rgs)
View(filtered_files_rgs)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
nest(starts_with("RG"),.key=readgroups) %>%
nest(starts_with("sample"),.key=samples)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
nest(starts_with("RG"),.key=readgroups)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
nest(starts_with("RG"),.key=readgroups) %>%
nest(starts_with("sample"),.key=samples)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
nest(starts_with("RG"),.key=readgroups) %>%
nest(-everything(), starts_with("sample"),.key=samples)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
nest(starts_with("RG"),.key=readgroups) %>%
nest(starts_with("file"),.key=files)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
nest(starts_with("RG"),.key=readgroups) %>%
nest(starts_with("file"),id,.key=files)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("RG"), starts_with("file"), starts_with("sample")) %>%
nest(starts_with("RG"),.key=readgroups) %>%
nest(starts_with("file"),id,.key=files)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("RG"), starts_with("file"), starts_with("sample")) %>%
nest(starts_with("RG"),.key=readgroups) %>%
nest(starts_with("file"),.key=files)
tmp = filtered_files_rgs %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG"))
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(starts_with("RG"),.key=readgroups)
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(starts_with("RG"),.key=readgroups) %>%
nest(starts_with("file"),.key=files)
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(-(1:7),.key=readgroups)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(-(1:7),.key=readgroups) %>% # starts_with("RG")
nest(-(1:5),.key=files)
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(starts_with("RG"),.key=readgroups) %>% #
nest(starts_with("RG"),starts_with("files"),.key=files)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(-(1:7),.key=readgroups) %>% # starts_with("RG")
nest(-(1:5),.key=files)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(-(1:7),.key=readgroups) %>% # starts_with("RG")
nest(-(1:5),.key=files) %>%
nest(-(1:4),.key=samples)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(-(1:7),.key=readgroups) %>% # starts_with("RG")
nest(-(1:4),.key=files) %>%
nest(-(1:1),.key=samples)
View(nested_filtered_files_rgs)
jsonlite::toJSON(nested_filtered_files_rgs, pretty = T)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
mutate(file_uuid = id, case_project = project, file_md5sum = md5sum, file_format = format) %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(-starts_with("case"), -starts_with("sample"), -starts_with("file"), .key=readgroups) %>% # starts_with("RG")
nest(-starts_with("case"), -starts_with("sample"),.key=files) %>%
nest(-starts_with("case"),.key=samples)
jsonlite::toJSON(nested_filtered_files_rgs, pretty = T)
## Insert readgroups
rgs = read.delim('data/ref/TCGA_BAM_readgroups.txt', as.is = T, header = F)
rgs = rgs %>% mutate(id = basename(dirname(V1)),
rg_ID = gsub("ID\\:","", V3),
rg_PL = gsub("PL\\:","", V4),
rg_PU = gsub("PU\\:","", V5),
rg_LB = gsub("LB\\:","", V6),
rg_PI = gsub("PI\\:","", V7),
rg_DT = gsub("DT\\:","", V8),
rg_SM = gsub("SM\\:","", V9),
rg_CN = gsub("CN\\:","", V10)) %>%
select(-starts_with("V"))
## Full-join
filtered_files_rgs = filtered_files %>% right_join(rgs)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
mutate(file_uuid = id, case_project = project, file_md5sum = md5sum, file_format = format) %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("RG")) %>%
nest(-starts_with("case"), -starts_with("sample"), -starts_with("file"), .key=readgroups) %>% # starts_with("RG")
nest(-starts_with("case"), -starts_with("sample"),.key=files) %>%
nest(-starts_with("case"),.key=samples)
jsonlite::toJSON(nested_filtered_files_rgs, pretty = T)
## Nest
nested_filtered_files_rgs = filtered_files_rgs %>%
mutate(file_uuid = id, case_project = project, file_md5sum = md5sum, file_format = format) %>%
select(starts_with("case"), starts_with("sample"), starts_with("file"), starts_with("rg")) %>%
nest(-starts_with("case"), -starts_with("sample"), -starts_with("file"), .key=readgroups) %>% # starts_with("RG")
nest(-starts_with("case"), -starts_with("sample"),.key=files) %>%
nest(-starts_with("case"),.key=samples)
jsonlite::toJSON(nested_filtered_files_rgs, pretty = T)
write(jsonlite::toJSON(nested_filtered_files, pretty = T), file = unpaired_json)
write(jsonlite::toJSON(nested_filtered_files_rgs, pretty = T), file = unpaired_json)
test=filtered_files_rgs %>%
mutate(file_uuid = id, case_project = project, file_md5sum = md5sum, file_format = format)
View(test)
tmp = unnest(nested_filtered_files_rgs)
View(tmp)
tmp = unnest(unnest(nested_filtered_files_rgs))
getwd()
find_bam = list.files("download/")
find_bam = list.files("download/", pattern = "*bam")
find_bam = list.files("download/", pattern = "*bam", recursive = T)
library(GenomicDataCommons)
library(listviewer)
library(tidyverse)
setwd("/Volumes/Helix-Projects/GLASS-WG")
library(GenomicDataCommons)
library(listviewer)
library(tidyverse)
setwd("/Volumes/Helix-Projects/GLASS-WG")
cases_json      = "data/manifest/tcga/cases.json"
samples_json    = "data/manifest/tcga/samples.json"
aliquots_json   = "data/manifest/tcga/aliquots.json"
readgroups_json = "data/manifest/tcga/readgroups.json"
files_json      = "data/manifest/tcga/files.json"
pairs_json      = "data/manifest/tcga/pairs.json"
add_fields = c("cases.project.project_id",
"cases.samples.sample_type",
"cases.samples.portions.analytes.aliquots.submitter_id")
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
## Inspect data types
files(legacy = F) %>% facet(c('data_type')) %>% aggregations()
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
library(GenomicDataCommons)
library(listviewer)
library(tidyverse)
setwd("/Volumes/Helix-Projects/GLASS-WG")
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
## Get a list of all WXS/RNA-Seq aligned BAM files from primary tumors
fq = files(legacy = TRUE) %>%
GenomicDataCommons::filter( ~ cases.project.project_id %in% c("TCGA-LGG", "TCGA-GBM") &
experimental_strategy == "WGS" &
data_type == "Aligned reads") %>%
GenomicDataCommons::select(c(default_fields(files()), add_fields))
setwd("/Volumes/Helix-Projects/GLASS-WG")
cases_json      = "data/manifest/tcga/cases.json"
samples_json    = "data/manifest/tcga/samples.json"
aliquots_json   = "data/manifest/tcga/aliquots.json"
readgroups_json = "data/manifest/tcga/readgroups.json"
files_json      = "data/manifest/tcga/files.json"
pairs_json      = "data/manifest/tcga/pairs.json"
add_fields = c("cases.project.project_id",
"cases.samples.sample_type",
"cases.samples.portions.analytes.aliquots.submitter_id")
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
## Get a list of all WXS/RNA-Seq aligned BAM files from primary tumors
fq = files(legacy = TRUE) %>%
GenomicDataCommons::filter( ~ cases.project.project_id %in% c("TCGA-LGG", "TCGA-GBM") &
experimental_strategy == "WGS" &
data_type == "Aligned reads") %>%
GenomicDataCommons::select(c(default_fields(files()), add_fields))
message(sprintf("Found %s hits", GenomicDataCommons::count(fq)))
## Extract results
fres = results_all(fq)
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
## Get a list of all WXS/RNA-Seq aligned BAM files from primary tumors
fq = files(legacy = TRUE) %>%
GenomicDataCommons::filter( ~ cases.project.project_id %in% c("TCGA-LGG", "TCGA-GBM") &
experimental_strategy == "WGS" &
data_type == "Aligned reads") %>%
GenomicDataCommons::select(c(default_fields(files()), add_fields))
## Inspect data types
files(legacy = TRUE) %>% facet(c('data_type')) %>% aggregations()
## Get a list of all WXS/RNA-Seq aligned BAM files from primary tumors
fq = files(legacy = TRUE) %>%
GenomicDataCommons::filter( ~ cases.project.project_id %in% c("TCGA-LGG", "TCGA-GBM") &
experimental_strategy == "WGS" &
data_type == "Aligned reads") %>%
GenomicDataCommons::select(c(default_fields(files()), add_fields))
message(sprintf("Found %s hits", GenomicDataCommons::count(fq)))
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json")
tmp = flatten(tmp)
tmp = flatten(tmp)
tmp = flatten(tmp)
tmp = flatten(tmp)
tmp = flatten(tmp)
tmp = flatten(tmp)
tmp = flatten(tmp)
View(tmp)
?unnest
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json")
df = tmp %>%
unnest(samples)
df = tmp %>%
unnest()
nest
unnest()
unnest
df = tmp %>%
unnest(.id='samples')
df = tmp %>%
unnest(starts_with("case"))
df = tmp %>%
flatten()
df = tmp %>%
flatten() %>% unnest(samples)
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json")
df = tmp %>%
unnest(samples)
df = tmp %>%
unnest(readgroups)
df = tmp %>%
tidyr::unnest()
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json") %>% tibble()
df = tmp %>%
tidyr::unnest()
df = tmp %>%
unnest(samples)
df = tmp %>%
unnest(readgroups)
df = tmp %>%
unnest()
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json")
class(tmp)
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json") %>% as.data.frame()
df = tmp %>%
unnest()
df = tmp %>%
unnest(samples)
df = tmp %>%
unnest(readgroups)
df = tmp %>%
unnest(files)
df = tmp %>%
unnest(samples)
?map
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json")
df = tmp %>%
map(unnest)
tmp %>%
map(class)
df = tmp %>%
map(unlist)
View(df)
?map
df = tmp %>%
map(samples, unnest)
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json")
df = tmp %>%
map(samples, unnest)
df = tmp %>%
map(~ samples, unnest)
df = tmp %>%
unnest()
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json") %>% as.data.frame()
View(tmp)
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json") %>% as.tibble()
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json") %>% flatten()
View(tmp)
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json") %>% as_data_frame()
?jsonlite::toJSON
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json")
fromJSON(tmp)
jsonlite::fromJSON(tmp)
jsonlite::fromJSON("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json")
?nest
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json") %>% as.data.frame()
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json") %>% as_data_frame()
?jsonlite::toJSON
jsonlite::fromJSON(tmp, simplifyDataFrame=T)
jsonlite::fromJSON("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json", simplifyDataFrame=T)
jsonlite::fromJSON("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json", simplifyDataFrame=T, flatten=TRUE)
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json") %>% as_data_frame()
tmp = jsonlite::read_json("data/ref/TCGA_WGS_GDC_legacy_UUIDs.json")
?map
tmp[1]
